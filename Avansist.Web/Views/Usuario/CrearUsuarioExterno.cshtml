@model Avansist.Web.ViewModel.UsuarioViewModel

@{
    Layout = null;

}

@{
    ViewData["Title"] = "Registro";
}

@section Styles{

}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>@ViewData["Title"]</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <!--FUENTES-->
    <!--Titulos con negrita-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
    <!--Contenido del cuerpo-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200&display=swap" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="~/lib/adminlte/plugins/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">

    <link rel="shortcut icon" href="~/lib/adminlte/img/Avansist_Logo.png" />
    <link href="~/css/Login.css" rel="stylesheet" />
</head>
<body>
    <div class="container pb-4" style="height: auto; padding-top: 50px">
        <img class="avatar" src="~/lib/adminlte/img/Avansist_Logo.png" alt="logo">
        <h1 class="pb-2">Resgistrar usuario</h1>
        <form asp-controller="Usuario" asp-action="CrearUsuarioExterno" asp-antiforgery="true" method="post">
            <div asp-validation-summary="All" class="text-danger small"></div>
            <div class="form-group">                    
                <div class="input-group mt-0">
                    <input asp-for="Nombre" class="form-control" placeholder="Nombre y apellido" />
                    <div class="input-group-append">
                        <div class="input-group-text" style="border: 1px solid red">
                            <span class="fas fa-user"></span>
                        </div>
                    </div>
                </div>
                @*<span asp-validation-for="Nombre" class="text-danger"></span>*@
            </div>

            <div class="form-group">                
                <div class="input-group">
                    <input asp-for="Email" class="form-control" placeholder="Correo electrónico" />
                    <div class="input-group-append">
                        <div class="input-group-text" style="border: 1px solid red">
                            <span class="fas fa-envelope"></span>
                        </div>
                    </div>                    
                </div>
                @*<span asp-validation-for="Email" class="text-danger"></span>*@
            </div>

            <div class="form-group">                
                <div class="input-group">
                    <input type="password" asp-for="Password" class="form-control" placeholder="Contraseña" />
                    <div class="input-group-append">
                        <div class="input-group-text" style="border: 1px solid red">
                            <span class="fas fa-lock"></span>
                        </div>
                    </div>                    
                </div>
                @*<span asp-validation-for="Password" class="text-danger"></span>*@
            </div>

            <div class="form-group">                
                <div class="input-group">
                    <input type="password" asp-for="ConfirmarPassword" class="form-control" placeholder="Confirmar Contraseña" />
                    <div class="input-group-append">
                        <div class="input-group-text" style="border: 1px solid red">
                            <span class="fas fa-lock"></span>
                        </div>
                    </div>                    
                </div>
                @*<span asp-validation-for="ConfirmarPassword" class="text-danger"></span>*@
            </div>

            <div class="row" style="display: none">
                <div class="col-8">
                    <div class="form-check mb-3">
                        <label class="form-check-label" asp-for="CambiarEstado">
                            <input class="form-check-input" asp-for="CambiarEstado" name="cambiarEstado" id="cambiarEstado" />
                            @Html.DisplayNameFor(m => m.CambiarEstado)
                        </label>
                    </div>
                </div>
            </div>

            @*<div class="form-group">
            <label asp-for="RolSeleccionado" class="control-label"></label>
            <select asp-for="RolSeleccionado" class="form-control" asp-items="ViewBag.Roles"></select>
            <span asp-validation-for="RolSeleccionado" class="text-danger"></span>
        </div>*@
            <div class="col-sm-12 d-flex justify-content-around mt-3">
                <div class="form-group">
                    <a asp-controller="Usuario" asp-action="Login" class="btn btn-danger">Cancelar</a>
                </div>
                <div class="form-group">
                    <input type="submit" value="Guardar" class="btn btn-success" />
                </div>
            </div>
        </form>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="modal-alerta_confirmacion" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="staticBackdropLabel">¡Registro exitoso!</h4>
                    @*<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>*@
                </div>
                <div class="modal-body">
                    Hemos enviado un enlace a su cuenta de correo para activar el registro y pueda iniciar sesión.
                    Gracias
                </div>
                <div class="modal-footer">
                    <a asp-controller="Usuario" asp-action="Login" class="btn btn-success">Aceptar</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ" crossorigin="anonymous"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.js"></script>
<script>

    if (@ViewBag.Succeeded == 200) {
        $('#modal-alerta_confirmacion').modal({ backdrop: 'static', keyboard: false })
        $('#modal-alerta_confirmacion').modal('show');
    }

    document.addEventListener('DOMContentLoaded', function () {
        $("#cambiarEstado").prop('checked', true);
    })       

</script>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}